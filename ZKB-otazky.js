const questionnaireData = {
    "sections": [
        {
            "id": "section1",
            "title": "Organizační opatření - ISMS, řízení aktiv a rizik",
            "subsections": [
                {
                    "id": "§3",
                    "title": "Systém řízení bezpečnosti informací (§ 3)",
                    "questions": [
                        {
                            "id": "3a",
                            "text": "Je vytvořena politika systému řízení bezpečnosti informací včetně stanovených cílů ISMS?",
                            "comment": "Obsah bezpečnostní politiky a bezpečnostní dokumentace je uveden v příloze č. 5 vyhlášky č. 82/2018 Sb.",
                            "response": null
                        },
                        {
                            "id": "3b",
                            "text": "Je stanoven rozsah ISMS?",
                            "comment": "Smyslem stanovení rozsahu je určit organizační části a aktiva, jichž se ISMS týká, tedy fyzický perimetr, organizační celky, zainteresované osoby(zaměstnanci, dodavatelé a další) a technologie.",
                            "response": null
                        },
                        {
                            "id": "3c",
                            "text": "Je vytvořena kompletní bezpečnostní politika, která je schválena, řízena, pravidelně aktualizována a přiměřeně dostupná relevantním rolím?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "3d",
                            "text": "Je prováděno pravidelné vyhodnocování a přezkoumávání ISMS?",
                            "comment": "",
                            "response": null
                        },
                    ]
                },
                {
                    "id": "§4",
                    "title": "Řízení aktiv (§ 4)",
                    "questions": [
                        {
                            "id": "4a",
                            "text": "Je vytvořena politika řízení aktiv?",
                            "comment": "Např. metodika identifikace a hodnocení aktiv, pravidla ochrany, manipualce, likvidace.",
                            "response": null
                        },
                        {
                            "id": "4b",
                            "text": "Dochází k identifikaci, evidenci a hodnocení aktiv včetně jejich vazeb?",
                            "comment": "Např. hodnocení primárních aktiv, zohledňuje oblasti dle § 4 odst. 2.",
                            "response": null
                        },
                        {
                            "id": "4c",
                            "text": "Je vytvořena politika ochrany osobních údajů?",
                            "comment": "Více informací je v příloze 5 1.14 vyhlášky č. 82/2018 Sb.",
                            "response": null
                        },
                        {
                            "id": "4d",
                            "text": "Organizace má přehled o všech zákonech a nařízení týkajících se funkce jejího ISMS?",
                            "comment": "Např. GDPR, Zákon č. 412/2005 Sb.",
                            "response": null
                        },
                    ]
                },
                {
                    "id": "§5",
                    "title": "Řízení rizik (§ 5)",
                    "questions": [
                        {
                            "id": "5a",
                            "text": "Je vytvořena politika řízení rizik?",
                            "comment": "Např. metodika identifikace a hodnocení rizik, kritéria pro akceptovatelnost, SoA, RTP, zpráva o hodnocení rizik.",
                            "response": null
                        },
                        {
                            "id": "5b",
                            "text": "Dochází k identifikaci, evidenci a hodnocení rizik včetně jejich relevantních hrozeb, zranitelnosti a dopadů?",
                            "comment": "Včetně rizik spojených s dodavateli, více v příloze 2 a 3 VKB.",
                            "response": null
                        },
                        {
                            "id": "5c",
                            "text": "Dochází k identifikaci, evidenci a hodnocení rizik včetně jejich relevantních hrozeb, zranitelnosti a dopadů?",
                            "comment": "Včetně rizik spojených s dodavateli, více v příloze 2 a 3 VKB.",
                            "response": null
                        },
                        {
                            "id": "5d",
                            "text": "Jsou bezpečnostní opatřená zaváděna v souladu s RTP?",
                            "comment": "",
                            "response": null
                        },
                    ]
                },

                {
                    "id": "§6",
                    "title": "Organizační bezpečnost (§ 6)",
                    "questions": [
                        {
                            "id": "6a",
                            "text": "Je vytvořena politika organizační bezpečnosti?",
                            "comment": "Příloha 5 1.3",
                            "response": null
                        },
                        {
                            "id": "6b",
                            "text": "Je kybernetická bezpečnost součástí ostatních procesů organizace?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "6c",
                            "text": "Jsou zajištěny dostatečné zdroje na kybernetickou bezpečnost?",
                            "comment": "Finanční, lidské atd.",
                            "response": null
                        },
                        {
                            "id": "6d",
                            "text": "Je zajištěna mlčenlivost administrátorů a osob zastávajících bezpečnostní role?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "6e",
                            "text": "Mají osoby zastávající bezpečnostní role dostatečné pravomoci?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "6f",
                            "text": "Je zajištěna zastupitelnost bezpečnostních rolí?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "6g",
                            "text": "Je určeno složení výboru KB, včetně jeho práv a povinnosti a výbor pro KB je ustanoven a vykonává svou činnosti?",
                            "comment": "",
                            "response": null
                        },
                    ]
                },
            ],
        },

        {

            "id": "section2",
            "title": "Organizační opatření - Řízení dodavatelů a lidské zdroj",
            "subsections": [
                {
                    "id": "§ 7",
                    "title": "Bezpečnostní role (§ 7)",
                    "questions": [
                        {
                            "id": "7a",
                            "text": "Je určen manažer KB a zároveň splňuje požadavky stanoveny ve VKB?",
                            "comment": "Popis je uveden v příloze 6, tabulce 2.",
                            "response": null
                        },
                        {
                            "id": "7b",
                            "text": "Je určen architekt KB, který splňuje požadavky vyplývající z VKB?",
                            "comment": "Popis je uveden v příloze 6, tabulce 3.",
                            "response": null
                        },
                        {
                            "id": "7c",
                            "text": "Je určen auditor KB, který splňuje požadavky vyplývající z VKB?",
                            "comment": "Popis je uveden v příloze 6, tabulce 4.",
                            "response": null
                        },
                    ]
                },

                {
                    "id": "§ 8",
                    "title": "Řízení dodavatelů (§ 8)",
                    "questions": [
                        {
                            "id": "8a",
                            "text": "Je vytvořena politika řízení dodavatelů včetně pravidel?",
                            "comment": "Popis je uveden v příloze 1.4.",
                            "response": null
                        },
                        {
                            "id": "8b",
                            "text": "Jsou významní dodavatelé evidování a jsou prokazatelně informování dle VKB?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "8c",
                            "text": "Jsou dodavatelé seznamování s pravidly a je požadováno plnění těchto pravidel?",
                            "comment": "Např. dodavatelé jsou poučování o svých povinnostech a odpovědnostech.",
                            "response": null
                        },
                        {
                            "id": "8d",
                            "text": "Je ve smlouvě s významnými dodavateli zohledněna příloha č. 7 a jsou smlouvy pravidelně přezkoumávány?",
                            "comment": "Více v příloze 7.",
                            "response": null
                        },
                        {
                            "id": "8e",
                            "text": "Probíhá předsmluvní hodnocení rizik?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "8f",
                            "text": "Je určena smluvní odpovědnost za zavedení bezpečnostních opatření a jejich?",
                            "comment": "Je kontrolováno dodržování těchto požadavků.",
                            "response": null
                        },
                        {
                            "id": "8g",
                            "text": "Je reagováno na nedostatky při řízení dodavatelů a jsou tyto nedostatky odstraňovány?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "8h",
                            "text": "Jsou stanoveným způsobem institucím podle § 34 hlášeny aktuální kontaktní údaje?",
                            "comment": "",
                            "response": null
                        },
                    ]
                },
                {
                    "id": "§ 9",
                    "title": "Bezpečnost lidských zdrojů (§ 9)",
                    "questions": [
                        {
                            "id": "9a",
                            "text": "Je vytvořena politika řízení lidských zdrojů?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "9b",
                            "text": "Existuje plán rozvoje bezpečenostního povědomí s určenými odpovědnými osobami za jeho realizaci a hodnocení jeho účinnosti?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "9c",
                            "text": "Obsahuje plán všechny mandatorní školení podle VKB?",
                            "comment": "Např. přehledy absolvovaných školení.",
                            "response": null
                        },
                        {
                            "id": "9d",
                            "text": "Jsou prováděna vstupní a pravidelná školení administrátorů, uživatelů a osob zástavajících bezpečnostní role?",
                            "comment": "Včetně ověřování získaných znalostí.",
                            "response": null
                        },
                        {
                            "id": "9e",
                            "text": "Je vytvořena politika bezpečného chování uživatelů?",
                            "comment": "Např. bezpečné nakládání s aktivy, použití přístupových hesel, bezpečené chování na sociálních sítích. Více v příloze 5 1.8.",
                            "response": null
                        },
                        {
                            "id": "9f",
                            "text": "Účastní se osoby zastávající bezpečností role odborných školení v souladu s plánem rozvoje bezpečnostního povědomí?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "9g",
                            "text": "Je kontrolováno dodržování bezpečnostních politik?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "9h",
                            "text": "Je zajištěno předání odpovědností v případě ukončení smluvního vztahu a řešení v případě porušení bezpečnostních pravidel?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "9i",
                            "text": "Jsou zaměstnanci upozorňování na nové hrozby a trendy v oblasti kybernetické bezpečnosti?",
                            "comment": "",
                            "response": null
                        },
                    ]
                },
            ],
        },
        {
            "id": "section3",
            "title": "Organizační opatření - Řízení provozu, přístupů a změn",
            "subsections": [
                {
                    "id": "§ 10",
                    "title": "Řízení provozu a komunikací (§ 10)",
                    "questions": [
                        {
                            "id": "10a",
                            "text": "Je vytvořena politika řízení provozu a komunikací včetně pravidel a postuů dle § 10 odst. 1) VKB?",
                            "comment": "Politika je zároveň dodržována a aktualizována.",
                            "response": null
                        },
                        {
                            "id": "10b",
                            "text": "Je vytvořena politika zálohování a obnovy a dlouhodobého ukládání?",
                            "comment": "Více informací naleznete v příloze 5 1.9.",
                            "response": null
                        },
                        {
                            "id": "10c",
                            "text": "Je vytvořena politika bezpečeného předávání a výměny informací?",
                            "comment": "Více informací naleznete v příloze 5 1.10.",
                            "response": null
                        },
                        {
                            "id": "10d",
                            "text": "Je vytvořena politika řízení technických zranitelností?",
                            "comment": "Více informací naleznete v příloze 5 1.11.",
                            "response": null
                        },
                        {
                            "id": "10e",
                            "text": "Je vytvořena politika bezpečeného používání mobilních zařízení?",
                            "comment": "Více informací naleznete v příloze 5 1.12.",
                            "response": null
                        },
                        {
                            "id": "10f",
                            "text": "Jsou stanoveny pravidla a postupy pro řízení technických zranitelností a zálohování?",
                            "comment": "Včetně kontroly použitelnosti záloh v pravidelných intervalech.",
                            "response": null
                        },
                        {
                            "id": "10g",
                            "text": "Jsou stanoveny pravidla a postupy pro připojení zařízení do sítě?",
                            "comment": "",
                            "response": null
                        },
                    ],
                },
                {
                    "id": "§ 11",
                    "title": "Řízení změn (§ 11)",
                    "questions": [
                        {
                            "id": "11a",
                            "text": "Je vytvořena politika řízení změn včetně definice významné změny?",
                            "comment": "Více informací naleznete v příloze 5 1.21.",
                            "response": null
                        },
                        {
                            "id": "11b",
                            "text": "Jsou přezkoumávány možné dopady změn a určování významné změny?",
                            "comment": "Včetně jejich dokumentování.",
                            "response": null
                        },
                        {
                            "id": "11c",
                            "text": "Je řízen proces změny včetně bezpečnostního testování a možnosti navrácení do původního stavu?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "11d",
                            "text": "Je prováděno penetrační testování a skenování zranitelností a je adekvátně reagováno na zjištěné nedostatky?",
                            "comment": "",
                            "response": null
                        },
                    ]

                },
                {
                    "id": "§ 12",
                    "title": "Řízení přístupů (§ 12)",
                    "questions": [
                        {
                            "id": "12a",
                            "text": "Je vytvořena politika řízení přístupů včetně pravidel pro ochranu přihlašovacích údajů?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "12b",
                            "text": "Je přístup řízen na základě skupin a rolí?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "12c",
                            "text": "Jsou uživatelům a administrátorům přidělovány jedinečné identifikátory?",
                            "comment": "Například nejsou používány sdílené účty.",
                            "response": null
                        },
                        {
                            "id": "12d",
                            "text": "Jsou řízeny identifikátory, přístupová práva a oprávnění aplikací a technických účtů?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "12e",
                            "text": "Je zavedena centrální správa mobilních zařízení?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "12f",
                            "text": "Dochází k odebrání nebo změně přístupových oprávnění u interních a externích rolí?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "12g",
                            "text": "Jsou stanoveny jednoznačná pravidla a postupy u zaměstnanců, kteří používají k pracovním účelům vlastní zařízení?",
                            "comment": "Např. mobilní zařízení.",
                            "response": null
                        },
                        {
                            "id": "12h",
                            "text": "Je zaveden princip need-to-know?",
                            "comment": "Jednotlivci by měli mít přístup pouze k těm informacím, které jsou nezbytné pro vykonávání jejich pracovních úkolů.",
                            "response": null
                        },
                        {
                            "id": "12i",
                            "text": "Je zaveden princip minimálních oprávnění?",
                            "comment": "Uživatelům, aplikacím nebo systémům by měla být udělena pouze ta nejnutnější oprávnění, která potřebují k vykonávání svých úkolů.",
                            "response": null
                        },
                        {
                            "id": "12j",
                            "text": "Je zavedena centrální správa možného instalovaného SW?",
                            "comment": "Uživatelé si nemohou sami nainstalovat neschválené aplikace.",
                            "response": null
                        },
                        {
                            "id": "12k",
                            "text": "Probíhá revize přidělených oprávnění?",
                            "comment": "",
                            "response": null
                        },
                    ]

                },
            ],
        },
        {

            "id": "section4",
            "title": "Organizační opatření - Akvizice a zvládání incidentů",
            "subsections": [
                {
                    "id": "§ 13",
                    "title": "Akvizice, vývoj a údržba (§ 13)",
                    "questions": [
                        {
                            "id": "13a",
                            "text": "Je vytvořena politika akvizice vývoje a údržby?",
                            "comment": "Více informací naleznete v příloze 5 1.13",
                            "response": null
                        },
                        {
                            "id": "13b",
                            "text": "Jsou stanoveny bezpečnostní požadavky a jsou tyto požadavky zahrnuty do projektu akvizice, vývoje a údržby?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "13c",
                            "text": "Je zajištěna bezpečnost a oddělení vývojového, provozního a testovacícho prostředí a to včetně ochrany testovacích dat?",
                            "comment": "",
                            "response": null
                        },
                    ],
                },
                {

                    "id": "§ 14",
                    "title": "Zvládání kybernetických bezpečnostních událostí a incidentů (§ 14)",
                    "questions": [
                        {
                            "id": "14a",
                            "text": "Jsou vytvořeny politiky pro nasazení a používání nástroje pro detekci kybernetických bezpečnostních událostí?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "14b",
                            "text": "Jsou vytvořeny politiky pro využití a údržbu nástroje pro sběr a vyhodnocování kybernetických bezpečnostních událostí a zvládání kybernetických bezpečnostních incidentů?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "14c",
                            "text": "Jsou stanoveny procesy a postupy pro detekci a vyhodnocování kybernetických bezpečnostních událostí a zvládání kybernetických bezpečnostních incidentů?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "14d",
                            "text": "Je zajištěno, aby interní i externí zaměstnanci oznamovali nestandartní chování zařízeních a systémů?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "14e",
                            "text": "Jsou incidenty posuzovány a kategorizovány dle požadavků VKB?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "14f",
                            "text": "Jsou pro odvrácení a zmírnění dopadů kybernetických bezpečnostních incidentů přijímána opatření?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "14g",
                            "text": "Je hodnocena účinnost řešení kybernetických bezpečnostních incidentů?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "14h",
                            "text": "Jsou v závislosti na výsledcích tohoto hodnocení stanovena nová bezpečnostní opatření, případně aktualizována ta stávající?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "14i",
                            "text": "Jsou incidenty řádně hlášeny dle požadavků VKB?",
                            "comment": "NÚKIB, CZ.NIC.",
                            "response": null
                        },
                        {
                            "id": "14j",
                            "text": "Jsou vedeny záznamy o kybernetických bezpečnostních incidentech a jejich zvládání?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "14k",
                            "text": "Jsou prošetřovány a určovány příčiny incidentů?",
                            "comment": "",
                            "response": null
                        },
                    ],
                },
            ],
        },
        {

            "id": "section5",
            "title": "Organizační opatření - Kontinuita a audit",
            "subsections": [
                {
                    "id": "§ 15",
                    "title": "Řízení kontinuity činností (§ 15)",
                    "questions": [
                        {
                            "id": "15a",
                            "text": "Je vytvořena politika řízení kontinuity činností včetně cílů kontinuity a havarijních plánů?",
                            "comment": "Minimální úroveň poskytovaných služeb, RTO a RPO.",
                            "response": null
                        },
                        {
                            "id": "15b",
                            "text": "Je zpracována analýza dopadů?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "15c",
                            "text": "Je zajištěno pravidelné testování havarijních plánů a plánů kontinuity činností?",
                            "comment": "",
                            "response": null
                        },
                    ],
                },
                {

                    "id": "§ 16",
                    "title": "Audit kybernetické bezpečnosti (§ 16)",
                    "questions": [
                        {
                            "id": "16a",
                            "text": "Je prováděn audit KB v pravidelných intervalech dle VKB?",
                            "comment": "Při významných změnách, u osob uvedených v § 3 písm. e) zákona po 3 letech, po 2 letech u osob neuvedených v písmenu b).",
                            "response": null
                        },
                        {
                            "id": "16b",
                            "text": "Je stanoven proces a plán provádění auditů KB?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "16c",
                            "text": "Jsou zpracovávány zprávy z auditu KB?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "16d",
                            "text": "Existují záznamy o provedených auditech, kontrolách a přezkoumání ISMS?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "16e",
                            "text": "Jsou výsledky přezkoumání ISMS a auditů KB zohledněny v plánování na další období?",
                            "comment": "",
                            "response": null
                        },
                    ],
                },
            ],
        },
        {

            "id": "section6",
            "title": "Technická opatření - Fyzická bezpečnost",
            "subsections": [
                {
                    "id": "§ 17",
                    "title": "Fyzická bezpečnost (§ 17)",
                    "questions": [
                        {
                            "id": "17a",
                            "text": "Je vytvořena politika fyzické bezpečnosti?",
                            "comment": "Více informací naleznete v příloze 5 1.15.",
                            "response": null
                        },
                        {
                            "id": "17b",
                            "text": "Je vymezen a chráněn fyzický bezpečnostní perimetr?",
                            "comment": "Zahrnující serverovny, rozvodny, racky, kabely, prostory IT správců, trezory, úložiště záloh atd.",
                            "response": null
                        },
                        {
                            "id": "17c",
                            "text": "Je zabezpečen fyzický perimetr dle potřeb organizace?",
                            "comment": "Například pomocí PZTS, EPS, CCTV kamer atd.",
                            "response": null
                        },
                        {
                            "id": "17d",
                            "text": "Jsou nainstalovány a kontrolovány čidla detekující vznik požáru a funkční hasící prostředky?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "17e",
                            "text": "Jsou chráněné prostory zabezpečeny mechanickými zábranami a pravidelně kontrolovány?",
                            "comment": "Např. silné stěny, okna nad úrovní terénu, mříže, fólie na skle, zámky.",
                            "response": null
                        },
                        {
                            "id": "17f",
                            "text": "Jsou nainstalovány a kontrolovány systémy detekce pohybu a průniku?",
                            "comment": "Např. detektory pohybu, detektory rozbití skla, magnetické detektory.",
                            "response": null
                        },
                        {
                            "id": "17g",
                            "text": "Je použit a pravidelně kontrolován systém pro kontrolu vstupu?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "17h",
                            "text": "Jsou důležitá aktiva chráněna pomocí pravidelně kontrolovaného kamerového systému, s ukládáním záznamů?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "17i",
                            "text": "Je prováděna identifikace osob na vstupu?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "17j",
                            "text": "Jsou zmapována a ošetřena rizika související s fyzickým umístěním důležitých aktiv?",
                            "comment": "Např. hořlavý materiál, elektro a vodoinstalace u serveroven, archivů, atd.",
                            "response": null
                        },
                        {
                            "id": "17k",
                            "text": "Jsou zmapována a ošetřena rizika související s fyzickým umístěním důležitých aktiv?",
                            "comment": "Např. hořlavý materiál, elektro a vodoinstalace u serveroven, archivů, atd.",
                            "response": null
                        },
                        {
                            "id": "17l",
                            "text": "Jsou aplikovány standardy bezpečenostních opatření proti přírodním katastrofám?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "17m",
                            "text": "Je vedena evidence přístupů do zabezpečených prostor?",
                            "comment": "Např. serverovna",
                            "response": null
                        },
                    ],
                },
            ],
        },
        {

            "id": "section7",
            "title": "Technická opatření - Bezpečnost sítí, identity a přístupy",
            "subsections": [
                {
                    "id": "§ 18",
                    "title": "Bezpečnost komunikačních sítí (§ 18)",
                    "questions": [
                        {
                            "id": "18a",
                            "text": "Je vytvořena politika bezpečnosti komunikačních sítí?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "10b",
                            "text": "Je provedena dostatečná segmentace sítě?",
                            "comment": "Např. na uživatelské, speciální, DMZ, serverové.",
                            "response": null
                        },
                        {
                            "id": "10c",
                            "text": "Je řízena komunikace uvnitř i vně perimetru sítě?",
                            "comment": "Např. pomocí firewall a jeho pravidel, IDS, obrana proti DDoS.",
                            "response": null
                        },
                        {
                            "id": "10d",
                            "text": "Je při vzdáleném přístupu do vnitřní sítě zřízena VPN?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "10e",
                            "text": "Dochází k aktivní blokaci nežádoucí komunikace?",
                            "comment": "Např. zakázané adresní rozsahy, filtrace URL, IPS.",
                            "response": null
                        },
                        {
                            "id": "10f",
                            "text": "Je komunikace mezi jednotlivými segmenty sítě řízena?",
                            "comment": "Např. ACL, pravidla na firewallech, routovací tabulky.",
                            "response": null
                        },
                    ],
                },
                {

                    "id": "§ 19",
                    "title": "Správa a ověřování identit (§ 19)",
                    "questions": [
                        {
                            "id": "19a",
                            "text": "Je implentován nástroj pro ověření identity uživatele, který současně zajišťuje řízení počtu neúspěšných pokusů o přihlášení, centralizovanou správu identit a další požadavky dle § 19 odst. 2 VKB?",
                            "comment": "Např. Active Directory (AD), IdM.",
                            "response": null
                        },
                        {
                            "id": "19b",
                            "text": "Je zavedena dvoufaktorová autentizace uživatelů, administrátorů a do aplikací s nejméně dvěma různými typy faktorů?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "19c",
                            "text": "V případě, že není zavedena dvoufaktorová autentizace, je zaveden nástroj pro ověření identity pomocí kryptografických klíčů?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "19d",
                            "text": "V případě, že není zavedena dvoufaktorová autentizace, jsou dodrženy minimální požadavky na hesla dlě § 19 odst. 5 VKB?",
                            "comment": "U uživatelů 12 znaků, u administrátorů 17 znaků.",
                            "response": null
                        },
                        {
                            "id": "19e",
                            "text": "Jsou autentizační údaje přenášeny se zachováním důvěrnosti a ukládány ve formě odolné proti offline útokům?",
                            "comment": "Např. pomocí šifrování.",
                            "response": null
                        },
                        {
                            "id": "19f",
                            "text": "Je vynucena bezodkladná změna u prvotních, výchozí a obnovovacích hesel?",
                            "comment": "",
                            "response": null
                        },
                    ],
                },
                {

                    "id": "§ 20",
                    "title": "Řízení přístupových oprávnění (§ 20)",
                    "questions": [
                        {
                            "id": "20a",
                            "text": "Je nastaven proces bezpečeného přístupu dodavatelů do vnitřní sítě?",
                            "comment": "Např. pomocí VPN, segmentace, řízeného oprávnění atd.",
                            "response": null
                        },
                        {
                            "id": "20b",
                            "text": "Je zavedeno oddělení administrátorských oprávnění pro správu systému od uživatelských oprávnění?",
                            "comment": "Např. oddělené účty, PIM/PAM, jump server.",
                            "response": null
                        },
                        {
                            "id": "20c",
                            "text": "Je zavedeno centralizované řízení přístupových oprávnění?",
                            "comment": "Např. ACL, nastavení skupin v AD",
                            "response": null
                        },
                    ],
                }
            ],
        },
        {

            "id": "section8",
            "title": "Technická opatření - Detekce, logování a ochrana aktiv",
            "subsections": [
                {
                    "id": "§ 21",
                    "title": "Ochrana před škodlivým kódem (§ 21)",
                    "questions": [
                        {
                            "id": "21a",
                            "text": "Je vytvořena politika ochrany před škodlivým kódem?",
                            "comment": "Více informací naleznete v příloze 5 1.17.",
                            "response": null
                        },
                        {
                            "id": "21b",
                            "text": "Je antivirová ochrana nasazena na všech důležitých aktivech?",
                            "comment": "Včetně koncových stanic, mobilních zařízení, serverů atd.",
                            "response": null
                        },
                        {
                            "id": "21c",
                            "text": "Je antivirová ochrana pravidelně aktualizována?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "21d",
                            "text": "Jsou prováděny pravidelné antivirové testy záloh?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "21e",
                            "text": "Jsou nastavena pravidla pro používání výměnných zařízení a datových nosičů?",
                            "comment": "Např. zákaz automatického spouštění obsahu.",
                            "response": null
                        },
                        {
                            "id": "21f",
                            "text": "Je řízeno oprávnění ke spouštění kódu?",
                            "comment": "Např. nastavení AD, aplikační whitelist.",
                            "response": null
                        },
                    ],
                },
                {
                    "id": "§ 22",
                    "title": "Záznamenování událostí informačního a komunikačního systému, je uživatelů a adminstrátorů (§ 22)",
                    "questions": [
                        {
                            "id": "22a",
                            "text": "Jsou nastavena pravidla pro logování a v praxi zavedena?",
                            "comment": "Pravidla stanovující obsah logů, aktiv ze kterých se logy uchovávají.",
                            "response": null
                        },
                        {
                            "id": "22b",
                            "text": "Jsou logy bezpečně uchovávány po dobu nezbytnou dle požadavku VKB?",
                            "comment": "Konkrétně dle § 22 odst. 3,4.",
                            "response": null
                        },
                        {
                            "id": "22c",
                            "text": "Je prováděna synchronizace jednotného času technických aktiv nejméně jednou za 24 hodin?",
                            "comment": "Např. pomocí NTP serveru.",
                            "response": null
                        },
                    ],
                },
                {
                    "id": "§ 23",
                    "title": "Detekce kybernetických bezpečnostních událostí (§ 23)",
                    "questions": [
                        {
                            "id": "23a",
                            "text": "Jsou nastavena dostatečná pravidla pro detekci KBU pomocí sondy/IDS/IPS/NBA?",
                            "comment": "Např. aktuální pravidla, prahy, signatury.",
                            "response": null
                        },
                        {
                            "id": "23b",
                            "text": "Pravidla pro sledování provozu jsou vhodně nastaveny?",
                            "comment": "Zvolené rozsahy, aktivita, komunikační kanály, perimetr.",
                            "response": null
                        },
                    ],
                },
            ],
        },
        {

            "id": "section9",
            "title": "Technická opatření - SIEM, dostupnost a kryptografrie",
            "subsections": [
                {
                    "id": "§ 24",
                    "title": "Sběr a vyhodnocování kybernetických bezpečnostních událostí (§ 24)",
                    "questions": [
                        {
                            "id": "24a",
                            "text": "Je využíván log management?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "24b",
                            "text": "Je využíván SIEM?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "24c",
                            "text": "Jsou nástroje pro sběr a vyhodnocování KBI dostatečně ošetřeny personálními kapacitami a aktivně se s nimi a jejich výstupy pracuje?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "24d",
                            "text": "Je nasazeno řešení pro ochranu před únikem dat?",
                            "comment": "Např. DLP",
                            "response": null
                        },
                    ],
                },
                {
                    "id": "§ 25",
                    "title": "Aplikační bezpečnost (§ 25)",
                    "questions": [
                        {
                            "id": "25a",
                            "text": "Jsou prováděny penetráční testy před uvedením důležitých aktiv do provozu?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "25b",
                            "text": "Je zajištěna ochrana aplikací, informací a transakcí před neoprávněnou činností a před popřením provedených činností?",
                            "comment": "",
                            "response": null
                        },
                    ],
                },
                {
                    "id": "§ 26",
                    "title": "Kryptografické prostředky (§ 26)",
                    "questions": [
                        {
                            "id": "26a",
                            "text": "Je vytvořena politika bezpečného používání kryptografické ochrany?",
                            "comment": "Více informací naleznete v příloze 5 1.20.",
                            "response": null
                        },
                        {
                            "id": "26b",
                            "text": "Jsou používány aktuálně odolné kryptografické prostředky?",
                            "comment": "S ohledem na doporučení vydané NÚKIB.",
                            "response": null
                        },
                        {
                            "id": "26c",
                            "text": "Je prosazováno bezpečné nakládání s kryptografickými prostředky?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "26d",
                            "text": "Je využíván systém pro správu klíčů a certifikátů?",
                            "comment": "",
                            "response": null
                        },
                    ],
                },
                {
                    "id": "§ 27",
                    "title": "Zajišťování úrovně dostupnosti informací (§ 27)",
                    "questions": [
                        {
                            "id": "27a",
                            "text": "Je nasazena ochrana proti DDoS útokům?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "27b",
                            "text": "Je konektivita do internetu zajištěna od dvou různých poskytovatelů?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "27c",
                            "text": "Jsou k dispozici dva nezávislé přívody elektrické energie?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "27d",
                            "text": "Je k dispozici alternativní zdroj napájení?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "27e",
                            "text": "Je nainstalována přepěťová ochrana?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "27f",
                            "text": "Je zajištěna redundance důležitých aktiv?",
                            "comment": "",
                            "response": null
                        },
                    ],
                },
                {
                    "id": "§ 28",
                    "title": "Půmyslové, řídící a obdobné specifické systémy (§ 28)",
                    "questions": [
                        {
                            "id": "28a",
                            "text": "Jsou bezpečnostní pravidla a opatření aplikována i na průmyslová a specifická zařízení, pokud je v organizaci máte (SCADA)?",
                            "comment": "",
                            "response": null
                        },
                    ],
                },
            ],
        },
        {

            "id": "section10",
            "title": "Bezpečnostní politika a bezpečnostní dokumentace, Reaktivní opatření a kontaktní údaje",
            "subsections": [
                {
                    "id": "§ 30",
                    "title": "Bezpečnostní politika a bezpečnostní dokumentace (§ 30)",
                    "questions": [
                        {
                            "id": "30a",
                            "text": "Jsou stanoveny bezpečnostní politiky a je vedena v rozsahu přílohy č. 5 VKB?",
                            "comment": "",
                            "response": null
                        },
                        {
                            "id": "30b",
                            "text": "Probíha pravidelné přezkoumání bezpečnostní politiky a bezpečnostní dokumentace?",
                            "comment": "",
                            "response": null
                        },
                    ],
                },
                {
                    "id": "§ 33",
                    "title": "Reaktivní opatření a kontaktní údaje (§ 33)",
                    "questions": [
                        {
                            "id": "33a",
                            "text": "Jsou plněna bezpečnostní opatření uložená reaktivním opatřením vydaným NÚKIB?",
                            "comment": "Včetně hlášení o výsledku.",
                            "response": null
                        },
                    ],
                },
            ],
        }
    ],
}

/*Funkce displaySection je volána s dvěma argumenty: sectionId a containerId. sectionId je ID oddílu, 
který chcete zobrazit, a containerId je ID HTML elementu, ve kterém chcete oddíl zobrazit. 
Pokud containerId není poskytnuto, použije se výchozí hodnota 'questionnaireContainer'.*/

// Proměnná sledující, zda uživatel zahájil vyplňování dotazníku
let hasStartedQuestionnaire = false;

function displaySection(sectionId, containerId) {
    const container = document.getElementById(containerId || 'questionnaireContainer');
    container.innerHTML = '';

    const section = questionnaireData.sections.find(s => s.id === sectionId);
    if (!section) return;

    /*Tvorba elementů HTML*/
    /*Název sekce*/
    const sectionElement = document.createElement('div');
    sectionElement.className = "section";

    const titleElement = document.createElement('h4');
    titleElement.textContent = section.title;
    sectionElement.appendChild(titleElement);

    const optionsDescription = ["Ano", "Částečně", "Ne", "Neaplikováno"];

    section.subsections.forEach(subsection => {
        const subsectionElement = document.createElement('div');
        subsectionElement.className = "card shadow mb-4";

        const headerElement = document.createElement('div');
        headerElement.className = "card-header py-3";
        const headerTitleElement = document.createElement('h6');
        headerTitleElement.className = "m-0 font-weight-bold text-primary";
        headerTitleElement.textContent = subsection.title;
        headerElement.appendChild(headerTitleElement);
        subsectionElement.appendChild(headerElement);

        const bodyElement = document.createElement('div');
        bodyElement.className = "card-body";

        subsection.questions.forEach((question, qIndex) => {
            const questionWrapper = document.createElement('div');
            questionWrapper.style.marginBottom = '30px';  // Přidáný řádek
            const questionElement = document.createElement('span');
            questionElement.style.fontWeight = 'bold';
            questionElement.textContent = question.text;
            questionWrapper.appendChild(questionElement);

            if (question.comment) {
                const commentElement = document.createElement('li');
                commentElement.textContent = question.comment;
                commentElement.style.marginTop = '5px';
                questionWrapper.appendChild(commentElement);
            }

            const optionsWrapper = document.createElement('div');
            optionsWrapper.style.textAlign = 'center';
            optionsWrapper.style.marginTop = '20px';
            optionsDescription.forEach((option, index) => {
                const radioElement = document.createElement('input');
                radioElement.type = "radio";
                radioElement.name = `question_${subsection.id}_${qIndex}`;
                radioElement.value = option;
                radioElement.style.marginLeft = '20px';
                radioElement.style.marginRight = '10px';
                radioElement.style.transform = 'scale(1.7)';
                radioElement.addEventListener('change', function () {
                    if (this.checked) {
                        question.response = option;
                        hasStartedQuestionnaire = true;  // Nastaví hasStartedQuestionnaire na true, jakmile uživatel zvolí odpověď
                    }
                });
                optionsWrapper.appendChild(radioElement);

                const label = document.createElement('label');
                label.htmlFor = radioElement.id;
                label.textContent = option;
                label.style.marginRight = '100px';
                optionsWrapper.appendChild(label);

                // Tooltip vysvětlující "Neaplikováno"
                if (option === "Neaplikováno") {
                    const tooltipWrapper = document.createElement('div');
                    tooltipWrapper.className = "info-tooltip";

                    const iconElement = document.createElement('i');
                    iconElement.className = "fas fa-info-circle";
                    iconElement.style.marginLeft = '5px';  // Adjust as needed
                    tooltipWrapper.appendChild(iconElement);

                    const tooltipTextElement = document.createElement('span');
                    tooltipTextElement.className = "tooltiptext bottom";
                    tooltipTextElement.textContent = "Opatření není pro organizaci relevantní";
                    tooltipWrapper.appendChild(tooltipTextElement);

                    label.appendChild(tooltipWrapper);
                }
                // Tooltip vysvětlující "Ano"
                if (option === "Ano") {
                    const tooltipWrapper = document.createElement('div');
                    tooltipWrapper.className = "info-tooltip";

                    const iconElement = document.createElement('i');
                    iconElement.className = "fas fa-info-circle";
                    iconElement.style.marginLeft = '5px';  // Adjust as needed
                    tooltipWrapper.appendChild(iconElement);

                    const tooltipTextElement = document.createElement('span');
                    tooltipTextElement.className = "tooltiptext bottom";
                    tooltipTextElement.textContent = "Opatření máte plně zavedeno a dokumentováno";
                    tooltipWrapper.appendChild(tooltipTextElement);

                    label.appendChild(tooltipWrapper);
                }
                // Tooltip vysvětlující "Ano"
                if (option === "Částečně") {
                    const tooltipWrapper = document.createElement('div');
                    tooltipWrapper.className = "info-tooltip";

                    const iconElement = document.createElement('i');
                    iconElement.className = "fas fa-info-circle";
                    iconElement.style.marginLeft = '5px';  // Adjust as needed
                    tooltipWrapper.appendChild(iconElement);

                    const tooltipTextElement = document.createElement('span');
                    tooltipTextElement.className = "tooltiptext bottom";
                    tooltipTextElement.textContent = "Některé aspekty opatření jsou zavedeny, ale ne všechny";
                    tooltipWrapper.appendChild(tooltipTextElement);

                    label.appendChild(tooltipWrapper);
                }
                // Tooltip vysvětlující "Ano"
                if (option === "Ne") {
                    const tooltipWrapper = document.createElement('div');
                    tooltipWrapper.className = "info-tooltip";

                    const iconElement = document.createElement('i');
                    iconElement.className = "fas fa-info-circle";
                    iconElement.style.marginLeft = '5px';  // Adjust as needed
                    tooltipWrapper.appendChild(iconElement);

                    const tooltipTextElement = document.createElement('span');
                    tooltipTextElement.className = "tooltiptext bottom";
                    tooltipTextElement.textContent = "Opatření není vůbec zavedeno";
                    tooltipWrapper.appendChild(tooltipTextElement);

                    label.appendChild(tooltipWrapper);
                }
            });

            questionWrapper.appendChild(optionsWrapper);

            // Pokud není aktuální otázka poslední v daném subsection
            if (qIndex !== subsection.questions.length - 1) {
                const hrElement = document.createElement('hr');
                questionWrapper.appendChild(hrElement);
            }

            bodyElement.appendChild(questionWrapper);


        });

        subsectionElement.appendChild(bodyElement);
        sectionElement.appendChild(subsectionElement);
    });

    container.appendChild(sectionElement);
}

window.onload = function () {
    displaySection('section1', 'questionnaireContainer1');
    displaySection('section2', 'questionnaireContainer2');
    displaySection('section3', 'questionnaireContainer3');
    displaySection('section4', 'questionnaireContainer4');
    displaySection('section5', 'questionnaireContainer5');
    displaySection('section6', 'questionnaireContainer6');
    displaySection('section7', 'questionnaireContainer7');
    displaySection('section8', 'questionnaireContainer8');
    displaySection('section9', 'questionnaireContainer9');
    displaySection('section10', 'questionnaireContainer10');
}

// Funkce, která zobrazí výzvu, pokud uživatel pokusí opustit stránku po zahájení vyplňování dotazníku
window.onbeforeunload = function (event) {
    if (hasStartedQuestionnaire) {
        const message = "Opravdu chcete opustit stránku? Veškerý váš pokrok bude ztracen.";
        event.returnValue = message;
        return message;
    }
};
